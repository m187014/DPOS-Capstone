CREATE TABLE Users (UserID INT NOT NULL, Uname CHAR(30) NOT NULL, Pword CHAR(30) NOT NULL, AccessLevel INT NOT NULL, SessionString VARCHAR(15000), LastLogin TIMESTAMP NOT NULL, CONSTRAINT PK_UserID PRIMARY KEY (UserID));
CREATE TABLE Midshipman(Alpha INT NOT NULL, Email CHAR(40) NOT NULL, Company INT NOT NULL, First CHAR(30), Last Char(30), Constraint Check_Email CHECK(Email LIKE '%@usna.edu'));
Create Table Cook(CookID INT NOT NULL);
Create table PastOrder(OrderID INT NOT NULL, Alpha INT NOT NULL, CONSTRAINT PK_PastOrder PRIMARY KEY (OrderID));
Create table FoodOrder(FoodID INT NOT NULL, OrderID INT NOT NULL, CONSTRAINT PK_FoodOrder PRIMARY KEY (FoodID));
Create table Ingredients(Name CHAR(40) NOT NULL, inStock INT NOT NULL, CONSTRAINT PK_Ingredients PRIMARY KEY (Name));
Create table Pizza (PizzaID INT NOT NULL, Ingredients CHAR(40) NOT NULL, CONSTRAINT PK_PizzaID PRIMARY KEY (PizzaID), CONSTRAINT FK_Ingredients FOREIGN KEY (Ingredients) REFERENCES Ingredients (Name) ON UPDATE CASCADE);
CREATE TABLE Ord(OrderID INT NOT NULL, CookID INT NOT NULL, Price INT NOT NULL, Quantity INT NOT NULL, TimePlaced CHAR(40) NOT NULL, TimeAccepted CHAR(40) NOT NULL, TimeFinished CHAR(40) NOT NULL, CONSTRAINT PK_Order PRIMARY KEY (OrderID), CONSTRAINT FK_Order_PastOrder FOREIGN KEY (OrderID) REFERENCES PastOrder (OrderID) ON UPDATE CASCADE);
CREATE TABLE FoodType (FoodID INT NOT NULL, Type CHAR(40) NOT NULL, Number INT NOT NULL, InStock INT NOT NULL, CONSTRAINT PK_FoodType PRIMARY KEY (FoodID), CONSTRAINT FK_FoodType_FoodOrder FOREIGN KEY (FoodID) REFERENCES FoodOrder (FoodID) ON UPDATE CASCADE);
CREATE TABLE UsersSession(SessionID VARCHAR(40) NOT NULL, UserID INT NOT NULL, LastVisit TIMESTAMP NOT NULL, CONSTRAINT PK_UsersSess PRIMARY KEY(SessionID), CONSTRAINT FK_UsersSess FOREIGN KEY (UserID) REFERENCES Users (UserID));






